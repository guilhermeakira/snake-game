(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),i=n.n(c),u=(n(10),n(2));var o,s=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e})),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){"undefined"!==typeof(null===n||void 0===n?void 0:n.current)&&(null===n||void 0===n||n.current())}),t);return function(){return clearInterval(e)}}}),[t])};!function(e){e.Up="UP",e.Down="DOWN",e.Left="LEFT",e.Right="RIGHT"}(o||(o={}));var f={ArrowUp:o.Up,ArrowDown:o.Down,ArrowLeft:o.Left,ArrowRight:o.Right},l=function(e){for(var t=[],n=1,a=0;a<e;a++){for(var r=[],c=0;c<e;c++)r.push(n++);t.push(r)}return t},d=function(e){return Math.floor(Math.random()*e*e)+1},j=function(e,t){var n=d(e);if(!t)return n;for(;t.has(n);)n=d(e);return n},v=n(4),b=function e(t){Object(v.a)(this,e),this.value=void 0,this.next=void 0,this.value=t,this.next=null},h=function e(t){Object(v.a)(this,e),this.head=void 0,this.tail=void 0;var n=new b(t);this.head=n,this.tail=n},O=(n(11),n(1)),w=function(){var e=Object(a.useState)(15),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(l(n)),i=Object(u.a)(c,2),d=i[0],v=i[1],w=Object(a.useState)(new h(j(n))),p=Object(u.a)(w,2),S=p[0],x=p[1],g=Object(a.useState)(new Set([S.head.value])),m=Object(u.a)(g,2),k=m[0],L=m[1],E=Object(a.useState)(j(n,k)),F=Object(u.a)(E,2),I=F[0],C=F[1],D=Object(a.useState)(o.Up),R=Object(u.a)(D,2),T=R[0],U=R[1],y=Object(a.useState)(!1),A=Object(u.a)(y,2),N=A[0],z=A[1],B=function(e){return I===e?"food":k.has(e)?"snake":""},M=Object(a.useCallback)((function(){var e=j(n);z(!1),x(new h(e)),L(new Set([e])),C(j(n,new Set([e])))}),[n]),P=function(){if(N){var e=S.tail.value,t=S.head.value,a=function(e,t,n){return t===o.Up?e-n:t===o.Down?e+n:t===o.Right?e+1:t===o.Left?e-1:e}(t,T,n),r=new Set(k);if(r.delete(e),function(e,t,n){return t<1||t>n*n||e%n===1&&t%n===0||!(e%n!==0||t%n!==1)}(t,a,n)||r.has(a))M();else{var c=new b(a),i=S.head;S.head=c,i.next=c,null!==S.tail.next&&(S.tail=S.tail.next);var u=new Set(k);u.delete(e),u.add(a),L(u),I===a&&(!function(e){var t=new b(e),n=S.tail;S.tail=t,S.tail.next=n;var a=new Set(k);a.add(I),L(a)}(e),C(j(n,k)))}}},J=Object(a.useCallback)((function(e){var t=f[e.key];t&&(N||z(!0),U(t))}),[N]);return s((function(){P()}),150),Object(a.useEffect)((function(){return window.addEventListener("keydown",J),function(){return window.removeEventListener("keydown",J)}}),[J]),Object(a.useEffect)((function(){v(l(n)),M()}),[n,M]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Snake!"}),Object(O.jsx)("label",{htmlFor:"boardSize",children:"BoardSize"}),Object(O.jsx)("input",{id:"boardSize",value:n,onChange:function(e){var t=parseInt(e.currentTarget.value);!t||t<=1||r(parseInt(e.currentTarget.value))}}),Object(O.jsx)("div",{className:"board",children:d.map((function(e,t){return Object(O.jsx)("div",{className:"row",children:e.map((function(e){return Object(O.jsx)("div",{className:"cell ".concat(B(e))},e)}))},t)}))})]})};n(13);var p=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(w,{})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(p,{})}),document.getElementById("root")),S()}],[[14,1,2]]]);
//# sourceMappingURL=main.8c0be315.chunk.js.map